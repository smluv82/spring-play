## CoroutineContext

- CoroutineContext는 코루틴을 실행 환경을 설정하고, 관리하는 인터페이스로, CoroutineDispatcher, CoroutineName, Job 등의 객체를 조합해 코루틴의 실행환경을 설정

1. CoroutineContext의 구성 요소
    1. CoroutineName, CoroutineDispatcher, Job, CoroutineExceptionHandler 네가지 구성요소를 가짐.
        1. CoroutineName : 코루틴의 이름을 설정
        2. CoroutineDispatcher : 코루틴을 스레드에 할당해 실행
        3. Job : 코루틴의 추상체로 코루틴을 조작하는데 사용
        4. CoroutineExceptionHandler : 코루틴에서 발생한 예외를 처리
2. CoroutineContext 구성하기
    1. 4개의 구성요소는 모두 key:value로 되어있음 key:해당 객체
    2. CoroutineContext 객체는 4개의 구성요소를 각 1개씩만 가질 수 있음.
    3. CoroutineContext 객체는 키-값 쌍으로 구성 요소를 관리하지만, 키에 값을 직접 대입하는 방법을 사용하지 않음.
    4. 더하기 연산자(+)를 사용해 CoroutineContext 객체를 구성한다.
    5. 구성요소가 없는 CoroutineContext는 default parameter인 EmptyCoroutineContext에 의해 생성되어진다.
    6. 만약 같은 구성요소가 둘 이상 더해진다면 나중에 추가된 CoroutineContext 구성 요소가 이전의 값을 덮어씌운다.
    7. Job 객체를 직접 생성해 추가하면 코루틴의 구조화가 깨지기 때문에, Job 객체를 생성해 CoroutineContext 객체에 추가하는 것은 주의가 필요.
3. CoroutineContext 구성 요소에 접근하기, 제거하기
    1. CoroutineContext 구성 요소에 접근하기 위해서는 각 구성요소가 가진 고유한 키를 알아야 접근이 가능하다.
    2. 키는 CoroutineContext.Key 인터페이스를 구현하는데 일반적으로 CoroutineContext 구성 요소는 자신의 내부에 키를 싱글톤 객체로 구현.
    3. 키는 인터페이스 내부에 companion object (동반 객체) 로 Key라는 name으로 구성되어져 있다.
    4. 접근은 Key로 접근 또는 구성 요소 자체에 접근 할 수 있다.
    5. minusKey를 이용해 구성요소 제거가 가능하다. 주의할 점은 기존 객체를 수정하는게 아닌 새로운 CoroutineContext가 반환된다는 점이다.

4. 요약
    1. CoroutineContext 객체는 CoroutineDispatcher, CoroutineName, Job, CoroutineExceptionHandler 로 구성요소가 되어져 있다.
    2. CoroutineContext 객체는 키-값 쌍으로 구성요소를 관리하며, 동일한 키에 중복된 값을 허용하지 않는다. 있는데 추가를 하면 마지막 걸로 업데이트 하는 구조이다.
    3. 구성요소 접근은 동반객체 인 Key를 통해 접근하거나 또는 직접 구성요소를 호출하여 접근 가능하다.
    4. minusKey 함수를 사용하면 CoroutineContext 객체에서 특정 구성요소를 제거한 새로운 객체를 반환한다.
